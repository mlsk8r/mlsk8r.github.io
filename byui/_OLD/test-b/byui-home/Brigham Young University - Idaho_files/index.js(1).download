/*
Copyright (c) 2019 Apple Inc. All rights reserved. 

LICENSE:
https://static.cdn-apple.com/businesschat/start-chat-button/2.1.0/license.txt

ACKNOWLEDGEMENTS:
https://static.cdn-apple.com/businesschat/start-chat-button/2.1.0/acknowledgements.txt

v.01/28/2019
*/
var AppleBusinessChat=function(n){"use strict";Object.entries||(Object.entries=function(n){for(var e=Object.keys(n),t=e.length,o=new Array(t);t--;)o[t]=[e[t],n[e[t]]];return o}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(n,e){return this.substring(!e||e<0?0:+e,e+n.length)===n}});const e="2.1.0",t=[10,13,4],o=[11,3];var r=/\((Macintosh|iPhone|iPad|(?:iPod(?:\x20touch)?));.*\x20((?:\d[_.]{0,1})+)[^)]*\)\x20/i;function a(){var n=window.navigator&&window.navigator.userAgent||"";return function(n,e){var t=c(n);return!!t&&!!t.type&&"MACINTOSH"===t.type.toUpperCase()&&!!s(t.version,e)}(n,t)||function(n,e){var t=c(n);return!!(t&&t.type&&["IPHONE","IPAD","IPOD","IPOD TOUCH"].includes(t.type.toUpperCase())&&s(t.version,e))}(n,o)}function i(){var n=function(n){return void 0!==n};return!!n(document.querySelectorAll)&&(!!n(document.childElementCount)&&(!!n(document.readyState)&&(!!n(window.addEventListener)&&!!n(Promise))))}function c(n){var e=r.exec(n);return e?{type:e[1],version:function(n){var e=[],t=/(\d+)/g,o=null;do{if(o=t.exec(n)){var r=parseInt(o[0],10);if("number"!=typeof r)return null;e.push(r)}}while(o);return e}(e[2])}:null}function s(n,e){if(void 0===n)return!1;for(var t=0,o=e.length;t<o;t++){var r=e[t],a=parseInt(n[t],10);if(isNaN(a)&&(a=0),a>r)return!0;if(a<r)return!1}return!0}function u(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function p(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var t=[],o=!0,r=!1,a=void 0;try{for(var i,c=n[Symbol.iterator]();!(o=(i=c.next()).done)&&(t.push(i.value),!e||t.length!==e);o=!0);}catch(n){r=!0,a=n}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return t}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return d(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}const f=["en-us","it-it","de-de","fr-fr","ja-jp","es-es","ko-kr"],b={en:["us"],it:["it"],de:["de"],fr:["fr"],ja:["jp"],es:["es"],ko:["kr"]},h="en-us",C=["ButtonTitle"],v={"en-us":["Chat with Messages"],"it-it":["Chat con Messaggi"],"de-de":["Chat mit Nachrichten"],"fr-fr":["Discuter avec l'app Messages"],"ja-jp":["メッセージで問い合わせ"],"es-es":["Chatear con Mensajes"],"ko-kr":["메시지에서 대화하기"]},g={"en-us":[163,52,6],"it-it":[156,52,6],"de-de":[163,52,6],"fr-fr":[163,52,6],"ja-jp":[149,52,6],"es-es":[156,52,6],"ko-kr":[111,52,6]};var I={"zh-hk":"zh-tw","nb-no":"no-no","nn-no":"no-no",nb:"no-no",nn:"no-no",he:"iw-il","he-il":"iw-il",pt:"pt-pt","vi-vn":"vi-vi","es-419":"es-mx","es-xl":"es-mx",nl:"nl-nl"},_=[163,52,6];function O(){return h}function E(n){if("string"==typeof n){var e=n.toLowerCase().replace(/_/g,"-"),t=I[e];void 0!==t&&(e=t);var o=p(e.split("-"),2),r=o[0],a=o[1],i=b[r];if(i&&i.indexOf(a)>=0)return e;if(i&&0!==i.length)return r+"-"+i[0]}}function y(n){return f.indexOf(E(n))>-1}function m(){var n,e=E((n=window.navigator)&&void 0!==n.languages?n.languages[0]:n&&n.language);return y(e)?e:h}function A(n,e){var t=C.indexOf(e);if(t<0)return e;n=E(n);var o=v[n];return void 0===o?e:o[t]||e}var T="https://static.cdn-apple.com",L="businesschat",B="start-chat-button";function N(n,t,o){if(!S(n))throw new Error('Unsupported theme "'+n+'"');var r=function(n,e){var t="@"+e+"x",o=n.lastIndexOf(".");return n.slice(0,o)+t+n.slice(o)}("business-chat-button-".concat(n,".png"),t);return function(n){var e=n.url,t=n.themeName,o=n.locale,r=(n.version,n.pixelRatio),a=p(function(n){return n=E(n),g[n]||_}(o),3),i=a[0],c=a[1],s=a[2];return{theme:t,locale:o,pixelRatio:r,url:e,width:i,height:c,spriteLocations:{normal:[0,0],hover:[0,c+s],press:[0,2*c+2*s]}}}({url:T+function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return("/"+e.join("/")).replace(/\/+/g,"/")}(L,B,e,o,"images",r),themeName:n,pixelRatio:t,locale:o,PKG_VERSION:e})}function S(n){return"light"===n||"dark"===n}var F={DEFAULT_FONT_FAMILY:'"Futura", "Trebuchet MS", Arial, sans-serif',DEFAULT_ICON_SIZE_IN_PIXELS:45,DEFAULT_ICON_BACKGROUND_COLOR:"#EFEFF4",DEFAULT_ICON_COLOR:"#007AFF",DEFAULT_ICON_SCALE:1,DEFAULT_BUTTON_IMAGE_OBJECT_FIT:"cover",DEFAULT_BANNER_WIDTH:"100%",DEFAULT_TEXT_ICON_SPACE:"15",DEFAULT_CTA_FONT_WEIGHT:"bold",DEFAULT_IFRAME_MARGIN:0,DEFAULT_HAS_ROUNDED_CORNERS:"true",MOUSE_ENTER_BRIGHTNESS:"brightness(0.95)",MOUSE_DOWN_BRIGHTNESS:"brightness(0.90)"},w=/^\s+/,x=/\s+$/,D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",R="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",U="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",k="^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",P="rgb(255, 255, 255)",j="rgb(0, 0, 0)",M={HORIZONTAL:"horizontal",VERTICAL:"vertical"};function z(n,e){var t=G(n),o=G(e);return t.r===o.r&&t.g===o.g&&t.b===o.b}function G(n){var e;return n=n.replace(w,"").replace(x,"").toLowerCase(),(e=new RegExp("rgb"+R).exec(n))?{r:e[1],g:e[2],b:e[3]}:(e=new RegExp("rgba"+U).exec(n))?{r:e[1],g:e[2],b:e[3],a:e[4]}:!!(e=new RegExp(k).exec(n))&&(6===e[1].length?{r:parseInt(e[1].substring(0,2),16),g:parseInt(e[1].substring(2,4),16),b:parseInt(e[1].substring(4,7),16)}:{r:parseInt(e[1].substring(0,1).repeat(2),16),g:parseInt(e[1].substring(1,2).repeat(2),16),b:parseInt(e[1].substring(2,3).repeat(2),16)})}function H(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*F.DEFAULT_ICON_SIZE_IN_PIXELS}function Z(n){var e=n.trim();return function(n){return new RegExp(k,"i").test(n)}(e)||function(n){return new RegExp("^rgb"+R+"$","i").test(n)}(e)||function(n){return new RegExp("^rgba"+U+"$","i").test(n)}(e)}function W(n){return n===M.HORIZONTAL||n===M.VERTICAL}function q(n){return n>=1&&n<=2}function X(n){return["true","yes","1","false","no","0"].reduce(function(e,t){return e=e||n===t},!1)}function K(n){return"string"==typeof n&&n.length>0}function V(n){return!new RegExp("[?=/&:]+","g").test(n)}function Y(n){var e={},t=function(n,t,o,r){o(t)?e[n]=t:(e[n]=void 0,console.warn("Warning: Invalid ".concat(r,"!")))};return Object.entries(n).forEach(function(n){switch(n[0]){case"appleBusinessIntentId":t(n[0],n[1],V,"data-apple-business-intent-id");break;case"appleBusinessGroupId":t(n[0],n[1],V,"data-apple-business-group-id");break;case"appleBusinessBody":t(n[0],n[1],V,"data-apple-business-body");break;case"appleBannerTextColor":t(n[0],n[1],Z,"data-apple-banner-text-color");break;case"appleBannerIconColor":t(n[0],n[1],Z,"data-apple-banner-icon-color");break;case"appleIconBackgroundColor":t(n[0],n[1],Z,"data-apple-icon-background-color");break;case"appleIconColor":t(n[0],n[1],Z,"data-apple-icon-color");break;case"appleBannerIconBackgroundColor":t(n[0],n[1],Z,"data-apple-banner-icon-background-color");break;case"appleBannerBackgroundColor":t(n[0],n[1],Z,"data-apple-banner-background-color");break;case"appleIconScale":t(n[0],n[1],q,"data-apple-icon-scale");break;case"appleBannerScale":t(n[0],n[1],q,"data-apple-banner-scale");break;case"appleBannerOrientation":t(n[0],n[1],W,"data-apple-banner-orienatition");break;case"appleIconTitle":t(n[0],n[1],K,"data-apple-icon-title");break;case"appleBannerRoundedCorners":t(n[0],n[1],X,"data-apple-banner-rounded-corners");break;default:e[n[0]]=n[1]}}),e}function $(n,e,t,o){if(!J(n))throw new Error('Not a valid business id: "'.concat(n,'"'));var r=encodeURI("https://bcrw.apple.com/urn:biz:".concat(n)),a=function(n,e,t){var o=[];K(n)&&o.push("biz-intent-id="+encodeURIComponent(n));K(e)&&o.push("biz-group-id="+encodeURIComponent(e));K(t)&&o.push("body="+encodeURIComponent(t));return o}(e,t,o);return a.length>0&&(r+="?"+a.join("&")),r}function J(n){return"string"==typeof n&&n.trim().length>0}var Q="div",nn="px",en="a",tn="img";function on(n){var e=n.options,t=n.paddingSize,o=n.hasRoundedCorners,r=n.children;return cn({type:Q,props:{class:"businesschat-button__container businesschat-button__container--".concat(e.orientation)},style:{alignItems:"center",backgroundColor:e.bannerBackgroundColor,borderRadius:o?"".concat(function(){return.1111*H(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}(e.scale)).concat(nn):"0".concat(nn),boxSizing:"border-box",display:"inline-flex",flexDirection:e.orientation===M.VERTICAL?"column":"row",textAlign:e.orientation===M.VERTICAL?"center":"left",padding:"".concat(t.vertical).concat(nn," ").concat(t.horizontal).concat(nn," ").concat(t.vertical).concat(nn," ").concat(t.horizontal).concat(nn),width:F.DEFAULT_BANNER_WIDTH},children:r.filter(function(n){return void 0!==n})})}function rn(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function an(n){var e=n.props,t=n.style,o=n.spriteLocations,r=function(n,e){var t=p(n,2),o=t[0],r=t[1];e.style.objectPosition="".concat(o).concat(nn," -").concat(r).concat(nn)};return cn({type:tn,props:function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?l(Object(t),!0).forEach(function(e){u(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}({onDragStart:function(){return!1},onMouseLeave:function(n){r(o.normal,n.target)},onMouseUp:function(n){r(o.normal,n.target)},onMouseEnter:function(n){r(o.hover,n.target)},onMouseDown:function(n){r(o.press,n.target)}},e),style:t})}function cn(n){var e=n.type,t=n.props,o=void 0===t?{}:t,r=n.style,a=void 0===r?{}:r,i=n.children,c=void 0===i?[]:i,s=document.createElement(e);return Object.entries(o).forEach(function(n){var e,t=p(n,2),o=t[0],r=t[1];(e=o).startsWith("on")&&e[2].toLowerCase()!==e[2]?s[o.toLowerCase()]=r:s.setAttribute(o,r)}),Object.entries(a).forEach(function(n){var e=p(n,2),t=e[0],o=e[1];s.style[t]=o}),c.map(function(n){return"string"==typeof n?document.createTextNode(n):n}).forEach(function(n){return s.appendChild(n)}),s}var sn="ButtonTitle",un="px";function ln(n){var e=n.container,t=n.businessId,o=n.options,r=(o=void 0===o?{}:o).theme,a=void 0===r?"light":r,i=o.locale,c=void 0===i?O():i,s=o.businessIntentId,u=void 0===s?"":s,l=o.businessGroupId,p=$(t,u,void 0===l?"":l);if(!function(n,e){var t='a[href="'+e+'"]';return n.querySelectorAll(t).length>0}(e,p)){var d,f=N(a,((d=Math.floor(window.devicePixelRatio||1))<1&&(d=1),d>3&&(d=3),d),c),b=f.spriteLocations,h=f.url,C=f.width,v=f.height,g=an({businessId:t,props:{src:h,alt:A(c,sn),width:C,height:v,draggable:!1},style:{objectFit:F.DEFAULT_BUTTON_IMAGE_OBJECT_FIT,objectPosition:"".concat(b.normal[0]).concat(un," -").concat(b.normal[1]).concat(un)},spriteLocations:b}),I=function(n){n.businessId;var e=n.props,t=n.children;return cn({type:en,props:e,children:t})}({businessId:t,props:{href:p,title:A(c,sn)},children:[g]});e.appendChild(I)}}function pn(n){var e=n.dataset.appleBusinessId;if(J(e)){var t=(n.dataset.appleButtonTheme||"").toLowerCase();S(t)||(t=void 0);var o=E(n.dataset.appleButtonLocale||m());y(o)||(o=O()),ln({container:n,businessId:e,options:{theme:t,locale:o,businessIntentId:n.dataset.appleBusinessIntentId,businessGroupId:n.dataset.appleBusinessGroupId}})}}var dn=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;var fn="1.1",bn="px",hn="stroke-width",Cn="apple-button",vn="apple-button-circle",gn="apple-button-icon",In=function(n){return function(e){var t,o=e.attributes,r=e.children,a=document.createElementNS("http://www.w3.org/2000/svg",n);return Object.entries(o).forEach(function(n){var e=p(n,2),t=e[0],o=e[1];a.setAttribute(t,o)}),r.forEach(function(n){return a.appendChild(n)}),"svg"===n&&((t=a).onmouseenter=function(n){n.target.style.filter=F.MOUSE_ENTER_BRIGHTNESS},t.onmouseleave=function(n){n.target.style.filter=""},t.onmousedown=function(n){n.target.style.filter=F.MOUSE_DOWN_BRIGHTNESS},t.onmouseup=function(n){n.target.style.filter=""}),a}},_n=In("svg"),On=In("path");function En(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.DEFAULT_ICON_BACKGROUND_COLOR,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.DEFAULT_ICON_COLOR,r=On({attributes:(e={class:gn,fill:o,stroke:t},u(e,hn,z(o,t)?"2".concat(bn):"0.2".concat(bn)),u(e,"d","M32.8881413,28.5773212 C33.3587721,29.4263073 32.4409744,32.7277676 29.3851374,32.8267526 C27.4518527,32.8893757 26.286473,32.3398083 25.7319214,32.1425879 C24.3774694,31.6608912 23.1948048,30.9455702 22.109061,30.2608357 C20.1341839,29.0153608 18.4892921,27.5857726 16.780561,25.8273484 C13.4656855,22.4160701 12.3194102,19.3666617 12.1386375,17.273671 C11.9578649,15.1806803 14.1307642,13.5052955 15.6275008,13.456813 C16.3298263,13.4340633 16.6712981,13.9545638 17.325211,14.8833592 C18.0648617,15.9339338 19.0913256,17.4425949 19.4008864,18.0878547 C19.7318039,18.7776314 19.51286,19.7236874 18.7440548,20.9260229 C18.4716717,21.3520031 18.4932248,21.9025125 18.7980783,22.3058933 L18.798063,22.3059049 C19.3952045,23.0960398 20.1269475,23.8745602 20.9932922,24.6414661 C21.9137943,25.4563132 22.8647348,26.1828156 23.8461138,26.8209733 C24.2486002,27.0826967 24.7678315,27.0813957 25.1690014,26.8176587 L26.1602344,26.1660107 C26.8622774,25.7044737 27.7536077,25.640546 28.5143307,25.997171 L28.5143191,25.9971957 C29.3724379,26.3994796 29.9569331,26.6800753 30.2678047,26.8389828 C31.8089832,27.6267835 32.6824288,28.2062296 32.8881413,28.5773212 Z"),e),children:[]}),a=On({attributes:{class:vn,fill:t,d:"M22.5,45 C10.0735931,45 0,34.9264069 0,22.5 C0,10.0735931 10.0735931,0 22.5,0 C34.9264069,0 45,10.0735931 45,22.5 C45,34.9264069 34.9264069,45 22.5,45 Z M32.8881413,28.5773212 C32.6824288,28.2062296 31.8089832,27.6267835 30.2678047,26.8389828 C29.9569331,26.6800753 29.3724379,26.3994796 28.5143191,25.9971957 L28.5143307,25.997171 C27.7536077,25.640546 26.8622774,25.7044737 26.1602344,26.1660107 L25.1690014,26.8176587 C24.7678315,27.0813957 24.2486002,27.0826967 23.8461138,26.8209733 C22.8647348,26.1828156 21.9137943,25.4563132 20.9932922,24.6414661 C20.1269475,23.8745602 19.3952045,23.0960398 18.798063,22.3059049 L18.7980783,22.3058933 C18.4932248,21.9025125 18.4716717,21.3520031 18.7440548,20.9260229 C19.51286,19.7236874 19.7318039,18.7776314 19.4008864,18.0878547 C19.0913256,17.4425949 18.0648617,15.9339338 17.325211,14.8833592 C16.6712981,13.9545638 16.3298263,13.4340633 15.6275008,13.456813 C14.1307642,13.5052955 11.9578649,15.1806803 12.1386375,17.273671 C12.3194102,19.3666617 13.4656855,22.4160701 16.780561,25.8273484 C18.4892921,27.5857726 20.1341839,29.0153608 22.109061,30.2608357 C23.1948048,30.9455702 24.3774694,31.6608912 25.7319214,32.1425879 C26.286473,32.3398083 27.4518527,32.8893757 29.3851374,32.8267526 C32.4409744,32.7277676 33.3587721,29.4263073 32.8881413,28.5773212 Z"},children:[]});return _n({attributes:{id:"".concat(Cn,"-phone"),class:Cn,width:"".concat(n).concat(bn),height:"".concat(n).concat(bn),viewBox:"0 0 ".concat(F.DEFAULT_ICON_SIZE_IN_PIXELS," ").concat(F.DEFAULT_ICON_SIZE_IN_PIXELS),version:fn},children:[a,r]})}function yn(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.DEFAULT_ICON_BACKGROUND_COLOR,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.DEFAULT_ICON_COLOR,r=On({attributes:(e={class:gn,fill:o,stroke:t},u(e,hn,z(o,t)?"2".concat(bn):"0.2".concat(bn)),u(e,"d","M22.4619356,30.7786771 C28.8431598,30.7786771 34.0161642,26.6017171 34.0161642,21.4491758 C34.0161642,16.2966345 28.8431598,12.1196744 22.4619356,12.1196744 C16.0807113,12.1196744 10.907707,16.2966345 10.907707,21.4491758 C10.907707,24.5967503 12.8381275,27.3802652 15.795146,29.0699258 C15.8018337,29.0737472 15.8268985,29.0878733 15.8703404,29.1123041 L15.8703441,29.1122974 C15.9086504,29.13384 15.9357892,29.1708735 15.9447928,29.2138896 C15.9447928,29.2138896 15.9447928,29.2138896 15.9447928,29.2138896 C16.1991538,30.4291461 14.5351454,31.5190311 13.422981,32.2462538 C17.1091602,32.4782927 18.9690206,31.0025315 19.5011958,30.5186766 C20.4035939,30.7013957 21.4893693,30.7786771 22.4619356,30.7786771 Z"),e),children:[]}),a=On({attributes:{class:vn,fill:t,d:"M22.5,45 C10.0735931,45 0,34.9264069 0,22.5 C0,10.0735931 10.0735931,0 22.5,0 C34.9264069,0 45,10.0735931 45,22.5 C45,34.9264069 34.9264069,45 22.5,45 Z M22.4619356,30.7786771 C28.8431598,30.7786771 34.0161642,26.6017171 34.0161642,21.4491758 C34.0161642,16.2966345 28.8431598,12.1196744 22.4619356,12.1196744 C16.0807113,12.1196744 10.907707,16.2966345 10.907707,21.4491758 C10.907707,24.5967503 12.8381275,27.3802652 15.795146,29.0699258 C15.8018337,29.0737472 15.8268985,29.0878733 15.8703404,29.1123041 C15.9086504,29.13384 15.9357892,29.1708735 15.9447928,29.2138896 C16.1991538,30.4291461 14.5351454,31.5190311 13.422981,32.2462538 C17.1091602,32.4782927 18.9690206,31.0025315 19.5011958,30.5186766 C20.4035939,30.7013957 21.4893693,30.7786771 22.4619356,30.7786771 Z"},children:[]});return _n({attributes:{id:"".concat(Cn,"-chat"),class:Cn,width:"".concat(n).concat(bn),height:"".concat(n).concat(bn),viewBox:"0 0 ".concat(F.DEFAULT_ICON_SIZE_IN_PIXELS," ").concat(F.DEFAULT_ICON_SIZE_IN_PIXELS),version:fn},children:[a,r]})}function mn(n){var e=n.container,t=n.businessId,o=n.options,r=(o=void 0===o?{}:o).businessIntentId,c=void 0===r?"":r,s=o.businessGroupId,u=void 0===s?"":s,l=o.businessBody,p=void 0===l?"":l,d=o.businessPhone,f=void 0===d?"":d,b=o.orientation,h=void 0===b?M.HORIZONTAL:b,C=o.scale,v=void 0===C?F.DEFAULT_ICON_SCALE:C,g=o.roundedCorners,I=void 0===g?F.DEFAULT_HAS_ROUNDED_CORNERS:g,_=o.bannerBackgroundColor,O=void 0===_?P:_,E=o.bannerTextColor,y=void 0===E?j:E,m=o.bannerFontFamily,A=o.bannerIconBackgroundColor,T=o.bannerIconColor,L=o.context,B=o.cta,N=cn({type:"iframe",props:{frameBorder:0,seamless:!0,scrolling:"no"},style:{border:"0".concat(nn),height:"auto",margin:"0".concat(nn),width:F.DEFAULT_BANNER_WIDTH}});rn(e),e.appendChild(N);var S,w=function(n,e){var t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{vertical:.2222*H(n),horizontal:.4444*H(n)}}(e.scale),o=function(n,e,t,o,r){var a,i,c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{cta:.2222*H(n),context:.1778*H(n)}}(t);K(n)&&(a=function(n){var e=n.cta,t=n.fontSize,o=n.color,r=n.fontFamily;return cn({type:Q,props:{class:"businesschat-button__text-cta"},style:{color:o,fontFamily:r?'"'.concat(r,'", ').concat(F.DEFAULT_FONT_FAMILY):F.DEFAULT_FONT_FAMILY,fontSize:t,fontWeight:F.DEFAULT_CTA_FONT_WEIGHT,width:F.DEFAULT_BANNER_WIDTH},children:[e]})}({cta:n,fontSize:"".concat(c.cta,"pt"),color:o,fontFamily:r}));K(e)&&(i=function(n){var e=n.context,t=n.fontSize,o=n.color,r=n.fontFamily;return cn({type:Q,props:{class:"businesschat-button__text-context"},style:{color:o,fontFamily:r?'"'.concat(r,'", ').concat(F.DEFAULT_FONT_FAMILY):F.DEFAULT_FONT_FAMILY,fontSize:t,width:F.DEFAULT_BANNER_WIDTH},children:[e]})}({context:e,fontSize:"".concat(c.context,"pt"),color:o,fontFamily:r}));return{textCtaEl:a,textContextEl:i}}(e.cta,e.context,e.scale,e.bannerTextColor,e.bannerFontFamily),r=o.textCtaEl,c=o.textContextEl,s=function(n,e,t,o,r,c,s,u,l,p){var d=$(n,t,o,r),f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{vertical:.1111*H(n),horizontal:.3333*H(n)}}(c),b=H(c),h=function(n){var e=n.orientation,t=n.marginSize;return cn({type:Q,props:{class:"businesschat-button__icons"},style:{alignItems:e===M.HORIZONTAL?"center":void 0,display:e===M.HORIZONTAL?"inline-flex":void 0,margin:"".concat(t.vertical).concat(nn," 0").concat(nn," ").concat(t.vertical).concat(nn," -").concat(t.horizontal).concat(nn)}})}({orientation:p,marginSize:f}),C=yn(b,s,u),v=En(b,s,u),g=function(n){var e=n.marginSize,t=n.icon,o=n.props,r=void 0===o?{}:o;return n.businessId,cn({type:en,props:r,style:e?{marginLeft:"".concat(e.horizontal).concat(nn)}:{},children:[t]})}({marginSize:f,icon:C,props:{target:"_parent",title:l,href:d},businessId:n}),I=function(n){var e=n.icon,t=n.marginSize,o=n.props;return cn({type:en,props:void 0===o?{}:o,style:t?{marginLeft:"".concat(t.horizontal).concat(nn)}:{},children:[e]})}({icon:v,marginSize:f,props:{href:"tel://".concat(e),title:e,target:"_parent"}});a()&&i()&&h.appendChild(g);K(e)&&h.appendChild(I);if(!h.hasChildNodes())return;return h}(n,e.businessPhone,e.businessIntentId,e.businessGroupId,e.businessBody,e.scale,e.bannerIconBackgroundColor,e.bannerIconColor,e.cta||e.context,e.orientation);if(!s)return;var u,l=(p={orientation:e.orientation,children:[r,c]},d=p.orientation,f=p.children,cn({type:Q,props:{class:"businesschat-button__text-wrapper"},style:{marginRight:"".concat(F.DEFAULT_TEXT_ICON_SPACE).concat(nn),display:d===M.HORIZONTAL?"flex":void 0,flexDirection:d===M.HORIZONTAL?"column":void 0,flex:d===M.HORIZONTAL?1:void 0},children:f.filter(function(n){return void 0!==n})}));var p,d,f;u=e.orientation===M.VERTICAL?[r,s,c]:[l,s];return on({options:e,paddingSize:t,hasRoundedCorners:function(n){if(!n)return!1;switch(n.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":default:return!1}}(e.roundedCorners),children:u})}(t,{businessIntentId:c,businessGroupId:u,businessBody:p,businessPhone:f,orientation:h,scale:v,roundedCorners:I,bannerBackgroundColor:O,bannerTextColor:y,cta:B,context:L,bannerIconBackgroundColor:A,bannerFontFamily:m,bannerIconColor:T});w&&(S=function(){N.contentDocument.body.appendChild(w),N.contentDocument.body.style.margin=F.DEFAULT_IFRAME_MARGIN,N.contentWindow.onresize=function(){Tn(N)},Tn(N)},dn?setTimeout(function(){S()},1):S())}function An(n){var e,t,o=n.dataset.appleBusinessId,r=n.dataset.appleBusinessPhone;if(J(o))if(e=n.dataset.appleBannerContext,t=n.dataset.appleBannerCta,K(e)||K(t)){if(a()||r){var i=Y(n.dataset);mn({container:n,businessId:o,options:{businessIntentId:i.appleBusinessIntentId,businessGroupId:i.appleBusinessGroupId,businessBody:i.appleBusinessBody,businessPhone:i.appleBusinessPhone,bannerBackgroundColor:i.appleBannerBackgroundColor,bannerFontFamily:i.appleBannerFontFamily,bannerIconBackgroundColor:i.appleBannerIconBackgroundColor,bannerIconColor:i.appleBannerIconColor,bannerTextColor:i.appleBannerTextColor,context:i.appleBannerContext,cta:i.appleBannerCta,orientation:i.appleBannerOrientation,scale:i.appleBannerScale,roundedCorners:i.appleBannerRoundedCorners}})}}else console.warn("Warning: data-apple-banner-context or data-apple-banner-cta is required!")}function Tn(n){var e=n.contentWindow.document.querySelector(".businesschat-button__container");if(e){var t=e.scrollHeight,o=e.offsetHeight,r=Math.max(t,o);n.style.height="".concat(r,"px")}else n.style.height="0px"}function Ln(n){var e,t,o,r,a=n.container,i=n.businessPhone,c=n.options,s=(c=void 0===c?{}:c).iconScale,u=void 0===s?F.DEFAULT_ICON_SCALE:s,l=c.iconBackgroundColor,p=void 0===l?F.DEFAULT_ICON_BACKGROUND_COLOR:l,d=c.iconColor,f=void 0===d?F.DEFAULT_ICON_COLOR:d,b=En(H(u),p,f),h=(e={businessPhone:i,props:{target:"_self",title:i,href:"tel://".concat(i)},icon:b},t=e.icon,o=e.marginSize,r=e.props,cn({type:en,props:void 0===r?{}:r,style:o?{marginLeft:"".concat(o.horizontal).concat(nn)}:{},children:[t]}));rn(a),a.appendChild(h)}function Bn(n){var e=n.dataset.appleBusinessPhone;if(K(e)){var t=Y(n.dataset);Ln({container:n,businessPhone:e,options:{iconBackgroundColor:t.appleIconBackgroundColor,iconColor:t.appleIconColor,iconScale:t.appleIconScale}})}}function Nn(n){var e,t,o,r,c,s=n.container,u=n.businessId,l=n.options,p=(l=void 0===l?{}:l).businessIntentId,d=void 0===p?"":p,f=l.businessGroupId,b=void 0===f?"":f,h=l.businessBody,C=void 0===h?"":h,v=l.iconScale,g=void 0===v?F.DEFAULT_ICON_SCALE:v,I=l.iconTitle,_=void 0===I?"":I,O=l.iconColor,E=void 0===O?F.DEFAULT_ICON_COLOR:O,y=l.iconBackgroundColor,m=void 0===y?F.DEFAULT_ICON_BACKGROUND_COLOR:y,A=$(u,d,b,C),T=yn(H(g),m,E),L=(t=(e={props:{href:A,title:_},icon:T}).marginSize,o=e.icon,r=e.props,c=void 0===r?{}:r,e.businessId,cn({type:en,props:c,style:t?{marginLeft:"".concat(t.horizontal).concat(nn)}:{},children:[o]}));i()&&a()&&(rn(s),s.appendChild(L))}function Sn(n){var e=n.dataset.appleBusinessId;if(K(e)&&a()){var t=Y(n.dataset);t.appleIconTitle||console.warn("Warning: data-apple-icon-title is required!"),Nn({container:n,businessId:e,options:{businessIntentId:t.appleBusinessIntentId,businessGroupId:t.appleBusinessGroupId,businessBody:t.appleBusinessBody,iconBackgroundColor:t.appleIconBackgroundColor,iconColor:t.appleIconColor,iconScale:t.appleIconScale,iconTitle:t.appleIconTitle}})}}n.isSupported=function(){return!1},n.setUpButtons=function(){};var Fn=e,wn={buildNumber:"2.1.0",masteringNumber:"M2.1.0"};a()&&i()&&(n.isSupported=function(){return a()},n.setUpButtons=function(){return function(n){for(var e=document.querySelectorAll(n),t=0,o=e.length;t<o;t++)pn(e[t])}("div.apple-business-chat-button-container")});var xn,Dn=function(){return function(n){for(var e=document.querySelectorAll(n),t=0,o=e.length;t<o;t++)An(e[t])}("div.apple-business-chat-banner-container")},Rn=function(){return function(n){for(var e=document.querySelectorAll(n),t=0,o=e.length;t<o;t++)Sn(e[t])}("div.apple-business-chat-message-container")},Un=function(){return function(n){for(var e=document.querySelectorAll(n),t=0,o=e.length;t<o;t++)Bn(e[t])}("div.apple-business-chat-phone-container")},kn=function(){n.setUpButtons(),Dn(),Un(),Rn()};return xn=kn,"complete"!==document.readyState?document.addEventListener("readystatechange",function(){"interactive"===document.readyState&&xn()}):xn(),window&&(window.appleBusinessChat={version:Fn,isSupported:n.isSupported,refresh:kn}),n.setUpMessageIcons=Rn,n.setUpPhoneIcons=Un,n.setUpBanners=Dn,n.version=Fn,n.__BUILD_INFO=wn,n}({});
